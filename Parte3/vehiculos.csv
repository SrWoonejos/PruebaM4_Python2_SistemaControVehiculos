import csv

class Vehiculo:
    def __init__(self, marca, modelo, ruedas):
        self.marca = marca
        self.modelo = modelo
        self.ruedas = ruedas
    
    def __str__(self):
        return f"Marca: {self.marca}, Modelo: {self.modelo}, Ruedas: {self.ruedas}"

    def guardar_datos_csv(self, nombre_archivo):
        with open(nombre_archivo, "a", newline='') as archivo:
            archivo_csv = csv.writer(archivo)
            datos = {key: value for key, value in self.__dict__.items()}
            archivo_csv.writerow([self.__class__.__name__, datos])

class Automovil(Vehiculo):
    def __init__(self, marca, modelo, ruedas, velocidad, cilindraje):
        super().__init__(marca, modelo, ruedas)
        self.velocidad = velocidad
        self.cilindraje = cilindraje
    
    def __str__(self):
        return f"{super().__str__()}, Velocidad: {self.velocidad} km/h, Cilindraje: {self.cilindraje} cc"

class Particular(Automovil):
    def __init__(self, marca, modelo, ruedas, velocidad, cilindraje, puestos):
        super().__init__(marca, modelo, ruedas, velocidad, cilindraje)
        self.puestos = puestos

    def __str__(self):
        return f"{super().__str__()}, Puestos: {self.puestos}"

class Carga(Automovil):
    def __init__(self, marca, modelo, ruedas, velocidad, cilindraje, peso):
        super().__init__(marca, modelo, ruedas, velocidad, cilindraje)
        self.peso = peso

    def __str__(self):
        return f"{super().__str__()}, Peso: {self.peso} kg"

class Bicicleta(Vehiculo):
    def __init__(self, marca, modelo, ruedas, tipo):
        super().__init__(marca, modelo, ruedas)
        self.tipo = tipo
    
    def __str__(self):
        return f"{super().__str__()}, Tipo: {self.tipo}"

class Motocicleta(Bicicleta):
    def __init__(self, marca, modelo, ruedas, tipo, nro_radios, cuadro, motor):
        super().__init__(marca, modelo, ruedas, tipo)
        self.nro_radios = nro_radios
        self.cuadro = cuadro
        self.motor = motor

    def __str__(self):
        return f"{super().__str__()}, Número de Radios: {self.nro_radios}, Cuadro: {self.cuadro}, Motor: {self.motor}"

# Ejemplo de uso
vehiculos = [
    Particular("Ford", "Fiesta", "4", "180", "500", "5"),
    Carga("Daft Trucks", "G 38", "10", "120", "1000", "20000"),
    Bicicleta("Shimano", "MT Ranger", 2, "Carrera"),
    Motocicleta("BMW", "F800s", 2, "Deportiva", 32, "Aluminio", "1000cc")
]

# Guardar cada vehículo en el archivo CSV
for vehiculo in vehiculos:
    vehiculo.guardar_datos_csv("vehiculos.csv")
